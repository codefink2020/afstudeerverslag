% Chapter X

\chapter{Onderzoek: SOUP analyse} % Chapter title

\label{OndSOUPAnalyse} % For referencing the chapter elsewhere, use \autoref{ch:voorOnderzoek}
In het vorige hoofdstuk is te lezen dat Eaglescience gebruik maakt van de volgende technologi\"en
\begin{itemize}
  \item Scala 2.XX
  \item TypeScript
  \item Jenkins
  \item Docker
  \item Azure cloud
\end{itemize}
Dit onderzoek richt voornamelijk op kwetbaarheden in software en de bestrijding ervan. En specifiek op de bovenstaande technieken. De hoofdvraag voor dit hoofdstuk luid dan ook: "Met welke kwetsbaarheden hebben we te maken binnen Eaglescience en hoe kunnen we deze opsporen op een geautomatiseerde manier zonder de huidige werkwijze te verstoren?" Uit deze hoofdvraag onstaan de volgende deelvragen die in dit onderzoek beantwoord worden met daarna een conclusie op de hoofdvraag.

\begin{itemize}
\item Welke soorten kwetsbaarheden zijn er?
\item Hoe kunnen deze kwetbaarheden hun weg vinden in onze gebouwde software?
\item Zijn er instanties die bijhouden waar zich kwetsbaarheden schuilhouden?
\item Wat zijn methodes om te onderzoeken of er in de bestaande software kwetbaarheden bevinden?
\item Is er een mogelijkheid om een third-party pakket in te zetten om dit te doen?
\end{itemize}


\section{Welke soorten kwetsbaarheden zijn er, en hoe vinden zei hun weg in de door Eaglescience ontwikkelde software?}
Een instantie dat zich bezighoud met het bestuderen en onderhouden van kwetbaarheden binnen software is OWASP. (OWASP.org) Wat een nonprofit organisatie is dat zich bezig houd met het verbeteren van de veiligheid van software. Het bestaat uit verschillende communities in veel landen en heeft meer dan tientallen duizend leden. OWASP zorgt voor erkenning door training en educatie aan te bieden als ook Tools en resources, maar vooral de community en het netwerk is van groot belang. Een van de zaken die zei doen is het opstellen van een top10 die eens in de 5 jaar wordt geupdate\footnote{Helaas is de laatste versie die aan het einde van 2021 uit moet komen nog niet beschikbaar op het moment van schrijven}. De OWASP-Top10 wordt samengesteld uit data van meer dan 100.000 productie applicaties en APIs wat door meer dan 500 mensen is getest door 40 verschillende bedrijven. De top 10 is een aggegratie van deze data in de meest voorkomende issues met inachtneming van exploitabity, detectability en impact.
\begin{itemize}

[Bron: https://codebros.nl/blog/wat-is-de-owasp-top-10 , https://owasp.org/www-project-top-ten/ << PDF download]
\item \textbf{A01:2017 Injection:} \\De mogelijkheid om OS, SQL, NoSQL commandos te injecteren in web applicaties zorgt ervoor dat aanvallers toegang kunnen hebben tot delen van systemen zonder er recht op te hebben. Daarnaast is er ook de mogelijkheid om toegang te krijgen tot data die niet voor hen bedoelt is.

De meest gebruikte injectie om ongewenst toegang te krijgen door hackers, is de SQL injectie. Met een SQL injectie voert de hacker een query direct uit op de database, waarmee diegene zichzelf toegang kan verlenen. Het kan ook zijn dat mede door een SQL injectie de hele applicatie niet meer werkt en alle data verloren is gegaan.

De bekendste injectiemethoden zijn:

    SQL injectie
    OS commando injectie
    LDAP injectie
\item \textbf{A02:2017 Broken Authentication:}\\ Het verkeerd implementeren van authentication en session management kan er voor zorgen dat aanvallers wachtwoorden, sessie tokens aan kunnen passen om zo zich voor te doen als een andere gebruiker.

Wanneer je een webapplicatie met een gebruikersaccount, dan is het zeer aannemelijk om te zeggen dat er een authenticatiesysteem wordt gebruikt. Het terugsturen van foutmeldingen die een hacker potentieel kunnen helpen bij het vaststellen of een gebruikersaccount bestaat vormt een behoorlijk risico.


\item \textbf{A03:2017 Sensitive Data Exposure:}\\
Het verkeerd of niet voldoende afschermen van APIs kunnen ervoor zorgen dat sensitive data makkelijk gevonden kan worden. Zeker als de data niet encrypted verzonden wordt.

Vrijwel alle webapplicaties werken met zeer gevoelige data. Het is dus belangrijk om deze goed af te schermen, door middel van een goede encryptie. Inmiddels hebben wij hier ook een wetgeving dat ons verplicht om goed met gevoelige data om te gaan, genaamd de AVG wetgeving.


\item \textbf{A04:2017 XML External Entities (XXE):}\\
Veel oude of slecht geconfigureerde XM processoren evalueren externe entiteit referenties binnen XML documenten slecht. Hierdoor is het mogelijk om links te cree\"en naar bestanden en/of fileshares waar code staat die slecht is voor de applicatie [that contains malicious code].

Hackers kunnen door middel van een XML bestand zichzelf toegang verlenen tot bestanden en programma’s op het besturingssysteem van de server. Dit komt met name door gedateerde XML verwerkers. Het zou ook mogelijk kunnen zijn dat de hacker data aan koppelingen, zoals bijvoorbeeld met een boekhoudpakket, door kan sturen met foutieve data en daardoor geld kan overmaken naar een bankrekening.


\item \textbf{A05:2017 Broken Access Control:}\\
Restricties op wat een geauthenticeerde gebruikers mogen worden niet altijd nageleefd, Aanvallers kunnend deze fouten gebruiken om toegang te krijgen tot gegevens of functionaliteiten die niet bestemd zijn voor deze gebruikers. Ze kunnen gegevens aanpassen en of toegangsrechten aanpassen.

Wanneer een gebruiker foutieve rechten krijgt bij zijn rol, kan de gebruiker eventueel meer handelingen verrichten dan gewenst is. Het is daarom erg belangrijk dat het rollen- en rechtensysteem goed op elkaar afgestemd en getest wordt.

\item \textbf{A06:2017 Security Misconfiguration:}\\
Slechte configuratie van de veiligheids instellingen zijn de meest gevonden ??issue??. Dit is meestal het gevolg van het gebruiken van de default, incomplete of ad-hoc configuratie Hierdoor kunnen cloud storages open komen te staan, verkeerd geconfigureerde HTTP headers of foutmeldingen die te veel informatie meegeven ontstaan.

Een ontwikkelaar gebruikt configuratiebestanden om zijn server en frameworks in te stellen, die absoluut niet inzichtelijk mogen zijn voor het openbare publiek. Het komt verrassend vaak genoeg voor dat een ontwikkelaar zijn configuratie niet op orde brengt voor het besturingssysteem van de server en van de gebruikte frameworks, wat de hacker in staat kan stellen om toegang te verlenen.


\item \textbf{A07:2017 Cross-Site Scripting (XSS):}\\ middels XSS is het mogelijk om scripts te draaien van een andere bron dan wenselijk. Dit geeft de mogelijkheid om via een browser andere scripts in de applicatie te draaien zo proberen andere functionaliteiten toe te voegen. Wat kan resulteren in een web site dat zich anders gedraagt dan de bedoeling is.

Als een webapplicatie onvoldoende validatie toepast op de te verwerken data, kan het voorkomen dat een hacker code injecteert in de webapplicatie. Hiermee kan de hacker bijvoorbeeld onveilige bestanden plaatsen op de computer van een andere gebruiker, maar ook de webapplicatie volledig vernietigen.

\item \textbf{A08:2017 Insecure Deserialization:}\\ Door het niet veilig deserialiseren van gegevens verzonden naar een webpage kan het voorkomen dat er code mee wordt gestuurd dat uitgevoerd wordt om zo aanvallen uit te voeren. zoals een injection hack(A01:2017) maar ook Broken Authentication hacks(A02:2017).

Er zijn webapplicaties die objecten omzetten naar tekst, al voor deze in de database opgeslagen worden. Wanneer een webapplicatie hiervan gebruik maakt en niet voldoende controles uitvoert op de ingevulde data, kan de hacker commando’s uitvoeren op het besturingssysteem van de gebruikte server.

\item \textbf{A09:2017 Using components with Known vulnerabilities:}\\
Componenten zoals bibliotheken, frameworks en andere software modules die gebruikt worden voor het ontwikkelen van een applicatie kunnen bedoelt en of onbedoeld [malicious code ] bevatten Wat kan resulteren in verschillende mogelijkheden voor de aanvaller binnen te dringen. of data te versturen naar een andere host om zo achter "beveiligide" gegevens te komen.

Vaak maakt een ontwikkelaar gebruik van open-source frameworks of stukken software dat door andere ontwikkelt worden. Als deze niet tijdig geüpdatet worden door de makers en de gebruikers, kunnen veiligheidsrisico’s benut worden door hackers.

\item \textbf{A10:2017 Insuffivient Logging \& Monitoring:}\\
Logging en monitoring is bijna net zo belangrijk als het ontwikkelen van een veilige applicatie, mocht er toch een aanval plaatsvinden op welke manier dient er de mogelijkheid zijn om terug te zien wat er precies gebeurt is. Logging zorgt hiervoor. Het monitoring deel is het bekijken van de logs om te zien of er iets verdachts plaats heeft gevonden. Er zijn tools beschikbaar die er voor automatische monitoring zorgen( Nagios is dit soort tool)

Feitje, een lek wordt gemiddeld pas na 200 dagen gemeld bij de makers van de webapplicatie. Als de makers van de webapplicatie onvoldoende of zelfs helemaal geen logbestanden bijhoudt, waarin vastgehouden wordt wat er precies is gegaan binnen de applicatie, kan het heel lang duren voor de makers het lek boven water krijgen.

Met behulp van monitoring heeft een ontwikkelaar tevens veel sneller in de gaten of een webapplicatie nog wel bereikbaar is en kan hierop beter reageren wanneer dit niet het geval is.

\end{itemize}
Binnen Eaglescience wordt er heel goed gekeken naar de manier waarop er veilige software ontwikkeld wordt. Zaken die in de OWASP top-10 staan wordt serieus mee omgegaan en actief tegen gehandeld. zo wordt er ook gegekeken naar het gebruik van bibliotheken van derden. 

Op plaat 9 is te vinden dat er kwetsbaarheden middels bibliotheken van derden binnen komen. Dit is iets wat deels buiten het bereik van Eaglescience ligt. Om ons hier tegen te beschermen is het wenselijk om dit periodiek en gewenst geautomatiseerd te doen.



\section{Zijn er instanties die bijhouden waar zich kwetsbaarheden schuilhouden?}
\section{Wat zijn methodes om te onderzoeken of er in de bestaande software kwetbaarheden bevinden?}
\section{Is er een mogelijkheid om een third-party pakket in te zetten om dit te doen?}




\section{Wat is Software of Unkown Pedigree(SOUP)?}
Volgens Wikipedia is \'software of unkown pedigree\' software dat niet volgens een software ontwikkel process of methode is ontwikkeld dat bekend is bij de eindgebruiker alsook software dat onbekende veiligheids eigenschappen heeft. De term wordt vooral gebruikt binnen het ontwikkelen van medische software.\\  % Bron: https://en.wikipedia.org/wiki/Software_of_unknown_pedigree
Door het gebruik van dit soort software kan men er dus nooit van uitgaan dat het veilig is.  SOUP komt veelvuldig voor in Open-source software, echter is closed software ook nooit gegarandeerd 100\% veilig als het van derden komt. Betekende dat eigen software niet altijd 100\% veilig is maar er is wel meer controle dan als er software van derden gebruikt wordt.

Deze definitie geld voor zowel volledige software pakketten als voor bibliotheken. Het gebruik van bibliotheken is iets waar Eaglescience veelvuldig gebruik van maakt. En geeft dit mogelijk problemen bij de veiligheid van de software zelf.

\section{Welk type bibliotheken kunnen onbekende veiligheid eigenschappen hebben of is de methode van ontwikkelen niet bekend?}
In principe is iedere bibliotheek waarvan niet de ontwikkelmethode of process te herleiden is, software of unkown pedigree. Veelal zijn dit de open-source bibliotheken die als onderdeel worden gebruikt in het ontwikkelen van zowel de frontend als de backend.

\subsection{OpenSource Software}Open-Source software staat er om bekend dat het veelal door een community wordt ontwikkeld waar bij de structuur niet altijd direct zichtbaar is en daarmee dus ook de methode niet altijd duidelijk.  	Eric S. Raymond spreek ook wel van een Bazaar model % Bron:https://en.wikipedia.org/wiki/Open-source_software#Development_model %bron : https://en.wikipedia.org/wiki/The_Cathedral_and_the_Bazaar
waarbij iedereen toegang heeft tot de source code en er zijn eigen aanpassingen aan doet, dit model stelt ook dat software snel gereleased wordt en er daarna frequente iteraties zijn om de software up-to-date te houden. Soms metd egebruiker als mede ontwikkelaar. Het grote voordeel is dat er meerdere inzichten van veel developers kunnen worden benut. dit geeft gelijk ook het nadeel dat het er vaak op neer komt dat er meerdere methodes gebruikt kunnen worden en daarmee dus niet kan worden vastgesteld hoe een pakket is ontwikkeld.

\subsection{Closed Source Software}% Bron:https://en.wikipedia.org/wiki/Proprietary_software
Closed source software is software dat is gebouwd onder een licentie, dit wil zeggen dat de gebruiker van de software/ bibliotheek meestal een bedrag moet betallen om het te betalen. Enkele voordelen van closed software is dat je weet wie het onwikkeld heeft en na een beetje onderzoek ook hoe de sotware gebouwd is. Al is dit laatste niet geheel relevant gezien er meestal een binary wordt geleverd zonder dat er aanpassingen vanuit de gebruiker in de source kan worden gedaan. Een nadeel is dat er meestal voor de software moet worden betaald en daarom dus duurder kan worden om het te gebuiken.

\subsection{Conclusie}

% tabel toevoegen https://en.wikipedia.org/wiki/Proprietary_software Types
het verschil tussen open en closed software zit hem vooral op de manier waarop het vervaardigd is, in een community of door een bedrijf. daarnaast zijn de kosten ook een verschil omdat er bij closes-source altijd een licentie moet worden verkregen en hier vaak (herhaaldelijke kosten) aan zitten. is dit bij open-source meestal
niet en wordt er vaak een vrijwillige bijdrage geleverd voor het gebruik ervan.

op basis van de kosten zou je kunnen zeggen dat open-source goedkoper is dan closed source bij de aanschaf. echter moet er rekening gehouden worden dat er niet altijd bekend is heo de software gebouwd is en wat de potenti\"ele gevaren hiervan zijn.

\section{Hoe wordt er op het dit moment een SOUP analyse uitgevoerd door Eaglescience en wat zijn de resource die gebruikt worden?}

Interview bouwen....


\lipsum[10]


\section{deelvraag 2}

\lipsum[10]

\section{deelvraag 3}

\lipsum[10]

\section{deelvraag 4}

\lipsum[10]
\section{deelvraag 5}

\lipsum[10]


\section{deelvraag 6}
\lipsum[10]
